# QuickCompare üõí ‚Äî Smart Grocery Price Comparison

[![Python](https://img.shields.io/badge/python-3.10%2B-blue)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)
[![Flask](https://img.shields.io/badge/flask-2.3%2B-green)](https://flask.palletsprojects.com/)

QuickCompare is a powerful web application that helps you find the best deals on groceries by comparing prices and delivery times across major Indian delivery platforms including Blinkit, Zepto, DMart, and Instamart. Never overpay for groceries again!

## üéØ **What Does QuickCompare Do?**

- **üí∞ Price Comparison**: Automatically searches for products across multiple platforms and shows you the best prices
- **‚è∞ Delivery Time**: Compares delivery ETAs so you can choose based on urgency
- **üîç Smart Search**: Intelligently matches similar products across different platforms
- **üìç Location-Aware**: Uses your location to provide accurate pricing and delivery estimates
- **üöÄ Real-Time**: Fresh data scraped in real-time, no outdated information

---

## üèóÔ∏è **Project Structure**

QuickCompare is built with a clean, modular architecture that makes it easy to maintain and extend:

```
quickcompare/
‚îú‚îÄ‚îÄ üìÅ src/                          # Main source code
‚îÇ   ‚îú‚îÄ‚îÄ üîß core/                     # Core utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py              # Database management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.py                 # Product processing utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cache.py                 # Caching system
‚îÇ   ‚îú‚îÄ‚îÄ üï∑Ô∏è scrapers/                 # Web scrapers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py                  # Base scraper class
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blinkit.py               # Blinkit scraper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ zepto.py                 # Zepto scraper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dmart.py                 # DMart scraper
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ instamart.py             # Instamart scraper
‚îÇ   ‚îú‚îÄ‚îÄ ‚è±Ô∏è eta/                      # ETA fetchers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py                  # Base ETA class
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blinkit.py               # Blinkit ETA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ zepto.py                 # Zepto ETA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dmart.py                 # DMart ETA
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ instamart.py             # Instamart ETA
‚îÇ   ‚îú‚îÄ‚îÄ üåê api/                      # Flask API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py                # API routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers.py              # Business logic
‚îÇ   ‚îî‚îÄ‚îÄ üìä models/                   # Data models
‚îÇ       ‚îú‚îÄ‚îÄ product.py               # Product models
‚îÇ       ‚îî‚îÄ‚îÄ location.py              # Location services
‚îú‚îÄ‚îÄ ‚öôÔ∏è config/                       # Configuration
‚îÇ   ‚îî‚îÄ‚îÄ settings.py                  # Centralized settings
‚îú‚îÄ‚îÄ üß™ tests/                        # Test suite
‚îú‚îÄ‚îÄ üìú scripts/                      # Utility scripts
‚îú‚îÄ‚îÄ üìÅ static/                       # Frontend assets
‚îî‚îÄ‚îÄ üìÑ app.py                        # Application entry point
```

---

## ‚≠ê **Key Features**

### üõçÔ∏è **For Shoppers**
- **Multi-Platform Search**: Compare prices across Blinkit, Zepto, DMart, and more
- **Location-Based Results**: Accurate pricing and delivery times for your area
- **Smart Product Matching**: Automatically groups same products from different platforms
- **Visual Interface**: Clean, easy-to-use web interface with platform logos and filters
- **Real-Time ETAs**: See delivery times for each platform before you order

### üõ†Ô∏è **For Developers**
- **Professional Architecture**: Clean separation of concerns with modular design
- **Easy to Extend**: Add new platforms by implementing simple base classes
- **Robust Caching**: Smart caching system to avoid unnecessary requests
- **RESTful API**: Well-designed API endpoints for integration
- **Comprehensive Testing**: Test suite for reliable functionality
- **Environment Configuration**: Easy setup for different deployment environments

---

## üöÄ **Getting Started**

### **Prerequisites**
- Python 3.10 or higher
- Google Maps API key (for location services)

### **1. Clone & Setup**
```bash
# Clone the repository
git clone https://github.com/iamvikkuarya/QuickKart.git
cd QuickKart

# Create and activate virtual environment
python -m venv .venv

# On Windows:
.venv\Scripts\activate

# On Mac/Linux:
source .venv/bin/activate
```

### **2. Install Dependencies**
```bash
# Install Python packages
pip install -r requirements.txt

# Install Playwright browsers
playwright install
```

### **3. Configure Environment**
```bash
# Copy the example environment file
cp .env.example .env

# Edit .env and add your Google Maps API key:
GOOGLE_MAPS_API_KEY=your_actual_api_key_here
```

### **4. Initialize Database**
```bash
# Set up the database
python scripts/setup_db.py
```

### **5. Start the Application**
```bash
# Run the development server
python scripts/run_dev.py

# Or start directly
python app.py
```

üåê **Open your browser and visit:** http://127.0.0.1:5000

That's it! You can now search for grocery products and compare prices across platforms.

---

## üñ•Ô∏è **How to Use QuickCompare**

### **Web Interface**
1. **üîç Search**: Type any grocery item (e.g., "amul milk", "bread", "rice")
2. **üìç Location**: The app automatically detects your location for accurate results
3. **‚öñÔ∏è Compare**: See prices, delivery times, and availability across platforms
4. **üéØ Filter**: Use platform filters to focus on specific delivery services
5. **üõí Shop**: Click on any result to go directly to the product page

### **API Endpoints**
For developers who want to integrate QuickCompare:

#### **Search Products**
```http
POST /search
Content-Type: application/json

{
  "query": "amul milk",
  "address": "Kothrud, Pune",
  "pincode": "411038"
}
```

#### **Get Delivery Times**
```http
POST /eta
Content-Type: application/json

{
  "address": "Kothrud, Pune",
  "pincode": "411038"
}
```

---

## üß† **How It Works**

### **Behind the Scenes**
1. **Web Scraping**: When you search, QuickCompare simultaneously visits each platform's website
2. **Smart Parsing**: Extracts product names, prices, quantities, and images from each site
3. **Product Matching**: Uses fuzzy matching algorithms to group similar products together
4. **Location Services**: Uses Google Maps API to get accurate delivery times for your area
5. **Caching**: Stores recent results to provide faster responses
6. **Database**: Saves all product data for analytics and performance

### **Supported Platforms**
- üü¢ **Blinkit**: 10-minute grocery delivery
- üü£ **Zepto**: Ultra-fast delivery service
- üü° **DMart**: DMart Ready - online grocery
- üîµ **Instamart**: Swiggy's grocery delivery

### **Technical Architecture**
- **Backend**: Python Flask with concurrent web scraping
- **Frontend**: Clean HTML/CSS/JavaScript interface
- **Database**: SQLite for product storage
- **Caching**: In-memory caching for performance
- **Location**: Google Maps API integration

---

## üõ†Ô∏è **For Developers**

### **Project Structure**
```
quickcompare/
‚îú‚îÄ‚îÄ üìÅ src/                    # Main source code
‚îÇ   ‚îú‚îÄ‚îÄ üîß core/               # Database, caching, utilities
‚îÇ   ‚îú‚îÄ‚îÄ üï∑Ô∏è scrapers/           # Platform scrapers (Blinkit, Zepto, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ ‚è±Ô∏è eta/                # Delivery time fetchers
‚îÇ   ‚îú‚îÄ‚îÄ üåê api/                # Flask routes and handlers
‚îÇ   ‚îî‚îÄ‚îÄ üìä models/             # Data models and schemas
‚îú‚îÄ‚îÄ ‚öôÔ∏è config/                 # Configuration management
‚îú‚îÄ‚îÄ üß™ tests/                  # Test suite
‚îú‚îÄ‚îÄ üìú scripts/                # Utility scripts
‚îú‚îÄ‚îÄ üìÅ static/                 # Frontend files (HTML, CSS, JS)
‚îî‚îÄ‚îÄ üìÑ app.py                  # Application entry point
```

### **Adding New Platforms**
To add support for a new grocery platform:

1. **Create a scraper** in `src/scrapers/`:
```python
from .base import BaseScraper

class NewPlatformScraper(BaseScraper):
    def get_platform_name(self) -> str:
        return "newplatform"
    
    def build_search_url(self, query: str) -> str:
        return f"https://newplatform.com/search?q={query}"
    
    def parse_products(self, page) -> List[Dict[str, Any]]:
        # Extract products from the page
        return products
```

2. **Create an ETA fetcher** in `src/eta/`:
```python
from .base import BaseETA

class NewPlatformETA(BaseETA):
    # Implementation for delivery time fetching
```

3. **Add to handlers** in `src/api/handlers.py`
4. **Update frontend** to include the new platform

### **Running Tests**
```bash
# Test scrapers
python -m pytest tests/test_scrapers/

# Test API endpoints
python -m pytest tests/test_api/

# Test specific component
python tests/test_scrapers/test_blinkit.py
```

---

## ‚öôÔ∏è **Configuration**

### **Environment Variables (.env file)**
```env
# Required: Google Maps API key for location services
GOOGLE_MAPS_API_KEY=your_api_key_here

# Application settings
FLASK_ENV=development
FLASK_DEBUG=true
HOST=127.0.0.1
PORT=5000

# Database settings
DATABASE_NAME=product.db

# Cache duration (in seconds)
CACHE_TTL=300

# Default location (used as fallback)
DEFAULT_ADDRESS=Kothrud, Pune
DEFAULT_PINCODE=411038
```

### **Google Maps API Setup**
1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select existing one
3. Enable the "Maps JavaScript API" and "Geocoding API"
4. Create credentials (API key)
5. Add the API key to your `.env` file

---

## üîß **Advanced Features**

### **Smart Product Matching**
QuickCompare uses intelligent algorithms to match similar products:
- **Quantity Normalization**: "1L", "1 Litre", "1000ml" are recognized as the same
- **Brand Recognition**: Matches products from the same brand across platforms
- **Fuzzy Name Matching**: Handles variations in product names
- **Price Validation**: Filters out unrealistic prices

### **Caching System**
- **Search Results**: Cached for 5 minutes to avoid repetitive scraping
- **ETA Data**: Delivery times cached to reduce API calls
- **Automatic Cleanup**: Old cache entries are automatically removed

### **Database Management**
```bash
# Initialize database
python scripts/setup_db.py

# Clean old data
python scripts/setup_db.py --cleanup

# View database stats
python -c "from src.core.database import DatabaseManager; db = DatabaseManager(); print('Total products:', db.get_recent_products(hours=24*365).__len__())"
```

---

## ü§ù **Contributing**

Contributions are welcome! Here's how you can help:

### **Ways to Contribute**
- üêõ **Bug Reports**: Found an issue? Report it!
- üÜï **New Platforms**: Add support for more grocery delivery services
- üé® **UI Improvements**: Enhance the user interface
- ‚ö° **Performance**: Optimize scraping or caching
- üìñ **Documentation**: Improve documentation and examples

### **Development Process**
1. **Fork** the repository
2. **Clone** your fork locally
3. **Create** a feature branch: `git checkout -b feature-name`
4. **Make** your changes and test them
5. **Commit** with descriptive messages
6. **Push** to your fork and create a Pull Request

### **Code Guidelines**
- Follow existing code style and structure
- Add tests for new functionality
- Update documentation as needed
- Test your changes thoroughly

---

## üêõ **Troubleshooting**

### **Common Issues**

**‚ùå "No products found"**
- Check your internet connection
- Try a different search term
- Ensure the platforms deliver to your area

**‚ùå Location not detected**
- Check if browser location permission is enabled
- Verify your Google Maps API key is correct
- Try manually setting your location in the .env file

**‚ùå App won't start**
- Ensure Python 3.10+ is installed
- Check if all dependencies are installed: `pip install -r requirements.txt`
- Initialize the database: `python scripts/setup_db.py`

**‚ùå Scraping errors**
- Websites may have changed their structure
- Check if you're being rate-limited
- Try running in non-headless mode for debugging

### **Getting Help**
- Check existing issues on GitHub
- Create a new issue with detailed error information
- Include your Python version, OS, and error logs

## üìú **License**

This project is licensed under the MIT License - see the LICENSE file for details.

## üôè **Acknowledgments**

- **Playwright**: For reliable web scraping capabilities
- **Flask**: For the lightweight web framework
- **RapidFuzz**: For intelligent product matching
- **Google Maps**: For location services
- **All grocery platforms**: For making their services available

---

## ‚≠ê **Show Your Support**

If QuickCompare helped you save money on groceries, please consider:
- ‚≠ê Starring this repository
- üêõ Reporting bugs or requesting features
- ü§ù Contributing to the codebase
- üì¢ Sharing with friends who love good deals!

---

**Made with ‚ù§Ô∏è for smart shoppers who love great deals!**

*Happy shopping! üõí*
